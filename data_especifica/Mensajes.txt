Wialon permite realizar la exportación e importación de mensajes. Solo se puede hacerlo con los mensajes del primer tipo, es decir, con los mensajes de datos. La restricción para un archivo o archivo comprimido importado es de 64 Mb, lo cual equivale a cerca de 3.5 millones de mensajes en un archivo comprimido.

Para exportar mensajes de una unidad, se requieren los derechos de acceso para solicitar informes y mensajes, así como para exportar mensajes. Para exportar mensajes a un archivo, solicítelos y elija la pestaña Importar y exportar mensajes en la parte izquierda inferior de la ventana. Elija el formato del archivo final y apriete Exportar. Según los parámetros de su navegador, el archivo creado se abrirá inmediatamente o se ofrecerá la opción de indicar la ruta para guardarlo. Además, el archivo con los mensajes exportados puede comprimirse si selecciona la opción Comprimir archivo.

Los formatos soportados que permiten ver parámetros incluyen Mensajes Wialon (.wln) y Mensajes binarios de Wialon (.wlb). El formato .wln puede abrirse en un editor de texto para leerse y modificarse, mientras que el formato .wlb es binario y no puede modificarse. Otros formatos soportados que no permiten ver parámetros incluyen OziExplorer recorrido (.plt), Mensajes NMEA (.txt) y Google Earth (.kml).

Para importar mensajes de una unidad, se requieren los derechos de acceso para solicitar informes y mensajes, así como para importar mensajes. Los archivos con los mensajes de una unidad guardados en el disco pueden importarse a unidades creadas por usted. Para importar mensajes, elija la pestaña Importar y exportar mensajes en la parte izquierda de la ventana. Los formatos soportados para la importación incluyen Logs originales del navegador GPS en formato GPRMC (.txt o .log), Mensajes Wialon (.wln) y Mensajes binarios de Wialon (.wlb). Haga clic en el campo de elección del archivo, elija el archivo a importar y apriete el botón Cargar. Para acelerar y facilitar el proceso de carga, comprima los archivos de mensajes previamente a formatos ZIP o GZIP. Una vez cargados, los archivos serán descomprimidos y procesados en el servidor. Puede seguir este proceso en el historial. En adelante, puede solicitar los mensajes importados y verlos en la tabla. Si ha importado mensajes erróneamente, puede eliminarlos desde la tabla por separado o en masa, seleccionando hasta 1000 mensajes a la vez para eliminar.

Tenga en cuenta que si el nombre del parámetro contiene más de 40 caracteres, el mensaje se importa sin este parámetro. Si los mensajes con parámetros de entradas y salidas digitales se importan en formato .wln, los parámetros inN y outN se reemplazan por avl_input y avl_output, respectivamente. Si el mensaje contiene el parámetro WLNTMNS (hora en nanosegundos), su valor se considera como la hora de generación del mensaje y se muestra redondeado a segundos en la columna Hora.

Cada manipulación con las propiedades de una unidad y su base de datos se registra automáticamente en el historial de la unidad. También se pueden hacer registros manualmente mediante el registrador de eventos. Se registran las modificaciones realizadas en las propiedades de la unidad, así como la eliminación, importación y exportación de mensajes, el hecho de asignar y separar a un conductor, entre otros. La tabla puede incluir columnas que describen la hora, el usuario, la acción realizada, la dirección IP del ordenador desde el cual se hicieron los cambios, y un botón para eliminar el mensaje. Para introducir cambios en el historial se necesitan los derechos de acceso para solicitar informes y mensajes y gestionar registros del objeto.

Varios tipos de eventos pueden registrarse en el historial de la unidad de forma automática o manual. El registro automático se ajusta mediante notificaciones con modos de acción como registrar evento para la unidad, registrar como infracción o registrar el estado de la unidad. De esta manera, se controlan visitas a geocercas, infracciones de velocidad, estado de alarma, parámetros, valores de sensores, modificaciones de entradas digitales, pérdida de conexión, ralentí, entre otros. Se puede registrar un evento manualmente mediante el registrador especial en el panel de seguimiento, permitiendo registrar llenados de combustible, servicios técnicos, eventos personalizados y estados de la unidad. También se puede guardar el reinicio del contador del tráfico GPRS en el diálogo de las propiedades de la unidad y los cambios de los contadores del tráfico GPRS, kilometraje y horas de motor mediante tareas correspondientes. La tabla incluye columnas que describen la hora de registrar el evento, el tipo de evento, el texto del evento y la descripción del mismo.

Se puede revisar los comandos enviados a una unidad mediante la solicitud Comandos enviados. Hay una opción especial para enviar comandos en el panel de seguimiento. La tabla puede incluir columnas que describen la hora de envío del comando, el usuario que lo envió, el nombre del comando, el tipo de comando, los parámetros necesarios para ciertos comandos, la hora de ejecución, el canal utilizado para ejecutar el comando, y la opción para filtrar los mensajes según sus parámetros.

Los mensajes SMS pueden enviarse por una unidad cuando se ejecutan comandos, en estado de alarma y en otros casos que dependen del tipo de dispositivo usado. La tabla generada por este tipo de solicitud contiene dos columnas: la hora de envío del mensaje y el número de teléfono de la tarjeta SIM del dispositivo desde el cual se envió el mensaje. Se puede filtrar los SMS según su texto.

Al solicitar mensajes de datos importados, se muestran solo aquellos mensajes que se han añadido al historial de la unidad mediante la importación. Para estos mensajes están disponibles las mismas funciones que para los mensajes de datos recibidos de la unidad. La única diferencia es que todas las líneas en la tabla de mensajes importados son de color naranja claro y la columna Hora de registro contiene rayas. Para eliminar los mensajes que se han importado erróneamente, márquelos en la última columna y haga clic en el icono de eliminar en la parte inferior de la tabla. Para eliminar todos los mensajes en la tabla, marque la casilla en el encabezado de la última columna antes de hacer clic en el icono de eliminar.

Los mensajes de datos son aquellos que se envían al servidor desde el dispositivo de la unidad. Normalmente, contienen información sobre la velocidad y la ubicación de la unidad en el momento de envío, la hora de generación del mensaje y otros parámetros que dependen del tipo de dispositivo. A la hora de solicitar los mensajes de datos, se puede escoger el modo de mostrar los parámetros como datos sin procesar o como valores de sensores. Durante el trabajo con los mensajes de datos se puede ver los mensajes en la tabla, analizar los parámetros en la gráfica, emplear el mapa y ver las estadísticas. La tabla de mensajes de datos contiene columnas que describen la hora de generación del mensaje, la hora de registro, la velocidad, las coordenadas, la altitud, la localización, los parámetros de los sensores, y la multimedia asociada. La información sobre los colores y los tipos de mensajes se muestra en la sección Leyenda de tabla.

Además de la tabla, los mensajes con datos se pueden ver en una gráfica. La leyenda de la gráfica se muestra en el área de trabajo y permite seleccionar las líneas a mostrar. Al apuntar con el cursor a un punto de la gráfica, se muestra una descripción emergente con la información básica sobre ese punto. La barra encima de la gráfica contiene herramientas para acercar, alejar, mostrar todo el intervalo, seleccionar y acercar un área, mostrar información detallada de puntos, comparar datos y guardar como PNG. Después de solicitar mensajes, se puede ver el recorrido de la unidad en el mapa. Haga clic en una línea de la tabla o en un punto de la gráfica para que el lugar desde el cual se envió el mensaje se indique con un marcador en el mapa. Para limpiar el mapa, desactive la capa Mensajes o regrese a la pestaña del mismo nombre y apriete el botón Limpiar.

En la sección de estadísticas se muestra información resumida sobre los mensajes correspondientes al período indicado. Las unidades de medida para los valores en las estadísticas se toman de las propiedades de la unidad. Las estadísticas incluyen el número total de mensajes, el tiempo total entre el primer y último mensaje con coordenadas, el kilometraje recorrido, la velocidad promedio y la velocidad máxima de la unidad.

Para gestionar los mensajes, se requieren derechos de acceso a la unidad para solicitar informes y mensajes, y para eliminar mensajes. Para solicitar mensajes de la unidad, abra la pestaña Mensajes y elija una unidad en la lista desplegable. Indique el intervalo de solicitud y el tipo de mensaje. Están disponibles los siguientes tipos de mensajes: datos, datos importados, SMS, comandos enviados, eventos registrados y historial. Apriete Ejecutar para formar la tabla de mensajes en la parte derecha de la ventana. También se pueden solicitar mensajes desde la pestaña Seguimiento o desde la tabla o gráfica de un informe en línea. Para que los recorridos de la unidad se dibujen en el mapa, active la capa Recorridos.

Los mensajes de cualquier tipo se muestran en una tabla. Para cambiar el orden cronológico de los mensajes, apriete el título de la columna Tiempo. Se puede ajustar el ancho de las columnas manualmente. En la barra de navegación debajo de la tabla están disponibles las acciones para ampliar el ancho de las columnas automáticamente, seleccionar el número de mensajes por página, abrir la siguiente o última página, aplicar la filtración de mensajes, eliminar mensajes seleccionados y seleccionar las columnas de la tabla. Si necesita cargar 500 o 1000 mensajes por página, no se recomienda ampliar el ancho de las columnas automáticamente, ya que esto puede ralentizar la carga. Para limpiar la tabla y el mapa, apriete Limpiar.

Se puede utilizar el filtro para facilitar la búsqueda de los mensajes necesarios. Para hacerlo, introduzca el filtro en el campo de entrada y haga clic en el icono de búsqueda o apriete Enter. El número de mensajes encontrados se indica a la izquierda del campo. Los tipos de filtro disponibles dependen del tipo de mensaje. Para buscar valores o nombres de parámetros, se pueden usar caracteres especiales como * y ?. El filtro no está disponible al solicitar mensajes con los parámetros mostrados como valores de sensores. Para eliminar mensajes de la base de datos, marque los mensajes necesarios en la última columna de la tabla y haga clic en el icono de eliminar. Los mensajes se eliminan completamente al solicitarlos la próxima vez. No se puede eliminar el último mensaje de la unidad ni el último mensaje con coordenadas válidas.

Los datos recibidos de las unidades se procesan y almacenan en la base de datos en forma de mensajes. En la pestaña Mensajes se pueden ver mensajes de datos recibidos de la unidad e importados, mensajes SMS de la unidad, comandos enviados a la unidad, eventos registrados en el historial de la unidad y el historial mismo. Además, Wialon permite exportar estos datos a varios formatos. La ventana de mensajes se compone de cuatro bloques: en la parte izquierda superior se configuran los parámetros de la solicitud de mensajes, en la parte izquierda inferior se muestran las estadísticas de la solicitud y se realiza la exportación e importación de mensajes, en la parte derecha superior está el mapa, y en la parte derecha inferior se muestran los mensajes de la solicitud ejecutada. Se puede cambiar las dimensiones de las secciones derechas y el ancho de las secciones izquierdas arrastrando los límites entre ellas. Si al arrastrar la sección inferior hacia arriba queda menos del 10% del mapa, el mapa se pliega automáticamente. Para que vuelva a mostrarse, apriete la línea debajo de la barra de herramientas superior.

